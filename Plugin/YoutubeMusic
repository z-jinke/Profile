#!name = Youtube(Music)
#!desc = 屏蔽客户端广告
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/YouTube.png
#!date = 2025-08-16

[Argument]
blockShorts = switch, true, false, tag = 短视频
blockUpload = switch, true, false, tag = 视频上传
blockImmersive = switch, true, false, tag = 音乐选段

[Rewrite]
^https:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad mock-response-body data-type=text data="AA==" data-is-base64=true status-code=200

[Script]
http-response ^https:\/\/y[a-z]*i\.googleapis\.com\/youtubei\/v1\/(?:browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch) script-path = https://raw.githubusercontent.com/Maasea/sgmodule/master/Script/Youtube/youtube.response.js, requires-body = true, binary-body-mode = true, tag = 配置处理, argument=[{blockUpload},{blockShorts},{blockImmersive},{captionLang},{lyricLang},{debug}]

[MitM]
hostname = *.googlevideo.com, youtubei.googleapis.com
