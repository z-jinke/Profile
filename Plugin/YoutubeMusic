#!name = YoutubeMusic
#!desc = 屏蔽视频与音乐广告
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/YouTube.png

[Argument]
blockUpload = switch, true, false, tag = 屏蔽上传区
blockShorts = switch, true, false, tag = 屏蔽短视频
blockImmersive = switch, true, false, tag = 屏蔽选段区


[Rewrite]
^https:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad reject-200

[Script]
http-response ^https:\/\/youtubei\.googleapis\.com\/(youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch))(\?(.*))?$ script-path = https://raw.githubusercontent.com/Maasea/sgmodule/master/Script/Youtube/youtube.response.js, requires-body = true, binary-body-mode = true, tag = 配置处理, argument=[{blockUpload},{blockShorts},{blockImmersive},{captionLang},{lyricLang},{debug}]

[MitM]
hostname = *.googlevideo.com, youtubei.googleapis.com
